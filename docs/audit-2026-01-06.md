# ABOUTME: Initial system audit capturing current state before chezmoi migration
# ABOUTME: Documents what exists, what's worth managing, and recommendations

# System Audit - 2026-01-06

## System Overview

| Property | Value |
|----------|-------|
| Model | MacBook Pro (Mac16,5) |
| Chip | Apple M4 Max |
| Memory | 128 GB |
| macOS | 26.2 (Tahoe) |
| Kernel | Darwin 25.2.0 |

---

## 1. Homebrew

### Summary
- **193 formulae** installed
- **45 casks** installed
- **14 taps** configured

### Health Issues

| Issue | Severity | Action |
|-------|----------|--------|
| Deprecated casks: alacritty, chromium, powershell, syntax-highlight | Medium | Find replacements or remove |
| Deprecated formula: icu4c@77 | Low | Will be cleaned up automatically |
| Unlinked keg: container | Low | Run `brew link container` |

### Notable Packages

**Development:**
- Languages: node, python (via mise), go, rust, deno, bun
- Editors: neovim, helix
- Git tools: gh, lazygit, git-absorb, jj (Jujutsu)
- LSPs: typescript-language-server, rust-analyzer, gopls, lua-language-server

**CLI Tools:**
- Modern replacements: eza (ls), bat (cat), fd (find), ripgrep (grep), zoxide (cd)
- File managers: yazi, superfile
- Multiplexers: tmux, zellij
- Misc: fzf, starship, mise, uv

**Terminals (casks):**
- ghostty, alacritty, wezterm, iterm2, warp

---

## 2. Shell Environment

### Structure
**XDG-compliant** - All zsh config in `~/.config/zsh/`

```
~/.zshenv              → Redirects to ~/.config/zsh
~/.config/zsh/
├── .zshrc             # Main config
├── .zshenv            # Environment variables, XDG setup
├── .zprofile          # Login shell config
├── aliases.zsh        # Aliases and functions (~300 lines)
├── homebrew.zsh       # Homebrew-specific setup
└── utils/             # Utility scripts
```

### Key Integrations
- **Prompt**: Starship (`~/.config/starship/starship.toml`)
- **Directory jumping**: zoxide (aliased as `cd`)
- **Tool versions**: mise
- **Plugins**: zsh-autosuggestions, zsh-syntax-highlighting (via Homebrew)

### Notable Aliases
- Multiple neovim configs via `NVIM_APPNAME` (lazyvim, astrovim, etc.)
- `cc` → Claude with permissions skipped
- Comprehensive eza aliases with macOS fallback
- System maintenance: `brewup`, `upall`

### Recommendations
- [ ] Some zsh plugins commented out (history-substring-search, autocomplete, autopair) - decide if needed
- [ ] `aliases copy.zsh` and `titus-bashrc` appear to be backup/reference files - clean up

---

## 3. Development Tools

### Runtime Management
**mise** (globally configured in `~/.config/mise/config.toml`):

| Tool | Version | Notes |
|------|---------|-------|
| go | 1.25.4 | latest |
| python | 3.13.9 | Pinned to 3.13 |
| rust | 1.91.1 | symlink to system |
| jq | 1.8.1 | latest |
| julia | 1.12.1 | latest |
| ruff | 0.14.5 | Python linter |
| usage | 2.8.0 | mise plugin |

**Homebrew-managed:**
- node 25.2.1
- bun 1.3.5
- deno 2.6.4

### mise Tasks
Custom tasks defined for:
- LLM operations (bundle generation, README gen, code review)
- Python development (format, lint, test with uv/ruff)
- Jupyter, WebUI

### Recommendations
- [ ] Consider managing node/bun/deno via mise for consistency
- [ ] Rust is symlinked - verify this is intentional (mise managing rustup?)

---

## 4. Git Configuration

### Setup
```
User: Ivelin Nikolov <imrellx@gmail.com>
GitHub: ivn
Default branch: main
```

### Features
- **SSH signing** enabled (id_rsa.pub)
- **Delta** as pager (side-by-side diffs)
- **Commit template** at `~/.gitmessage`
- **Git LFS** configured

### SSH Keys
- `~/.ssh/id_rsa.pub` - Main signing key
- `~/.ssh/avd-test-key.pub` - Test key

### Recommendations
- [ ] Git config at `~/.gitconfig` - should be migrated to chezmoi
- [ ] Check if `~/.gitmessage` should also be managed

---

## 5. Dotfiles / ~/.config

### High-Priority (frequently edited, worth managing)

| Directory | Purpose | Migrate? |
|-----------|---------|----------|
| zsh/ | Shell config | ✅ Yes |
| starship/ | Prompt | ✅ Yes |
| ghostty/ | Primary terminal | ✅ Yes |
| nvim-lazyvim/ | Primary editor | ✅ Yes |
| git/ | Git config | ✅ Yes |
| mise/ | Tool versions | ✅ Yes |
| tmux/ | Multiplexer | ✅ Yes |
| lazygit/ | Git UI | ✅ Yes |

### Medium Priority (less frequently changed)

| Directory | Purpose | Migrate? |
|-----------|---------|----------|
| wezterm/ | Alt terminal | Maybe |
| alacritty/ | Alt terminal | Maybe (deprecated) |
| helix/ | Alt editor | Maybe |
| yazi/ | File manager | Maybe |
| zellij/ | Alt multiplexer | Maybe |
| borders/ | Window borders | Maybe |
| aerospace/ | Window manager | Maybe |

### Low Priority / Skip

| Directory | Reason |
|-----------|--------|
| cursor/ | App-managed |
| raycast/ | App-managed, complex |
| iterm2/ | App-managed |
| fonts/ | One-time setup |
| configstore/ | npm-managed |
| op/ | 1Password-managed |

### Other Notable Configs
- `~/.config/scripts/` - Custom scripts to review
- Multiple nvim configs (adibhanna, astrovim, cpplain) - possibly experimental

---

## 6. Applications

### Count
- **102 applications** in /Applications
- Mix of: Homebrew casks, Mac App Store, direct downloads

### Categories

**Terminals (4):** Ghostty, iTerm, Wezterm, Warp, Alacritty
**Editors/IDEs (5):** VS Code, Cursor, Zed, Xcode, Kiro
**Browsers (4):** Arc, Chrome, Chromium, Zen
**Productivity:** Raycast, Obsidian, Linear, Drafts, iA Writer
**Communication:** Telegram, WhatsApp, Discord, Teams
**Dev Tools:** OrbStack, GitHub Desktop, UTM

### Homebrew Cask Coverage
Many apps are already cask-managed. Some manual installs:
- Xcode (App Store)
- Various App Store apps

### Recommendations
- [ ] Audit which apps are actually used vs cruft
- [ ] Chromium is deprecated cask - remove?
- [ ] `log_iotc.txt` is a stray file in /Applications

---

## 7. macOS Settings

### Current State
- Finder: PathBar enabled, StatusBar enabled
- Other settings: Not fully audited

### Recommendations
- [ ] Create `defaults.sh` script capturing preferred settings
- [ ] Low priority - focus on dotfiles first

---

## Migration Priority

### Phase 1: Core (Immediate)
1. Generate Brewfile from current state
2. Migrate zsh config to chezmoi
3. Migrate starship config
4. Migrate git config
5. Migrate mise config

### Phase 2: Editor & Terminal
6. Migrate ghostty config
7. Migrate nvim-lazyvim config
8. Migrate tmux config
9. Migrate lazygit config

### Phase 3: Everything Else
10. Review and migrate remaining configs as needed
11. Create bootstrap script
12. Document macOS defaults

---

## Action Items

### Immediate
- [ ] Run `brew bundle dump` to create Brewfile
- [ ] Fix Homebrew issues (deprecated packages, unlinked kegs)
- [ ] Initialize chezmoi and add first configs

### Soon
- [ ] Clean up backup files in ~/.config/zsh/
- [ ] Decide on node/bun/deno management (Homebrew vs mise)
- [ ] Review unused applications

### Later
- [ ] macOS defaults script
- [ ] Full bootstrap automation
- [ ] Test on Linux VM
